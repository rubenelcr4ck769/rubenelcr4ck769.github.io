<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOVE ALBUM</title>

<style>
/* ---------------------------------------------------
     PALETA Y ESTILOS BASE
----------------------------------------------------*/
:root{
    --bg1:#1a0009;
    --bg2:#000000;
    --card:#11a0a0f;
    --accent:#ff4d6d;
    --muted:#ffb3c1;
}
*{box-sizing:border-box;}
body{
    margin:0;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family:'Arial';
    color:#ffe6ea;
    overflow-x:hidden;
}

/* ------------------ CONTENEDOR ------------------ */
.container{
    max-width:1100px;
    margin:auto;
    padding:20px;
}
h1{
    text-align:center;
    margin-bottom:10px;
    font-size:2.5rem;
    color:var(--accent);
}
.subtitle{
    text-align:center;
    color:var(--muted);
    margin-bottom:25px;
    font-size:1.1rem;
}
.card{
    background:rgba(255,0,50,0.10);
    padding:16px;
    border-radius:12px;
    margin-bottom:20px;
    border:1px solid rgba(255,0,70,0.2);
    backdrop-filter:blur(4px);
}

/* ------------------ GALER√çA ------------------ */
.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:15px;
}
.gallery-item{
    transition: transform .4s ease, box-shadow .5s ease;
}
.gallery-item:hover{
    transform:scale(1.05) rotate(1deg);
    box-shadow:0 0 30px #ff4d6d;
}

.gallery img,
.gallery video{
    width:100%;
    height:250px;
    object-fit:cover;
    border-radius:12px;
}

/* ------------------ LIGHTBOX ------------------ */
#lightbox{
    position:fixed;
    inset:0;
    background:#000c;
    display:none;
    justify-content:center;
    align-items:center;
    z-index:1000;
}
#lightbox img,#lightbox video{
    max-width:90%;
    max-height:90%;
    border-radius:12px;
    box-shadow:0 0 25px var(--accent);
}
/* ---- TRANSICIONES DE LIGHTBOX Y SLIDESHOW ---- */
.fade {
    animation: fadeIn 1s ease forwards;
    opacity: 0;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

/* ---- TRANSICI√ìN ENTRE FOTOS ---- */
.slide-transition {
    animation: fadeSlide 1s ease forwards;
}

@keyframes fadeSlide {
    0% { opacity: 0; transform: scale(0.98); }
    100% { opacity: 1; transform: scale(1); }
}

/* ------------------ TEXTO ROM√ÅNTICO ------------------ */
.romantic-box{
    margin:20px 0;
}
.romantic-btn{
    background:#ff4d6d55;
    border:1px solid var(--accent);
    color:white;
    padding:10px 15px;
    border-radius:8px;
    cursor:pointer;
}
#romanticText{
    display:none;
    margin-top:10px;
    padding:15px;
    border-left:3px solid var(--accent);
    background:#0003;
    border-radius:6px;
}

/* ------------------ AUDIO VISUALIZER ------------------ */
#visualizer{
    width:100%;
    height:60px;
    background:#0002;
    border-radius:8px;
    margin-top:10px;
}

/* ------------------ CORAZONES ------------------ */
.heart{
    position:fixed;
    color:#ff4d6d;
    font-size:20px;
    animation:float 4s linear infinite;
    pointer-events:none;
    opacity:0.8;
}
@keyframes float{
    0%{
        transform:translateY(0) translateX(0) scale(0.7);
        opacity:1;
    }
    100%{
        transform:translateY(-300px) translateX(40px) scale(1.8);
        opacity:0;
    }
}


/* ------------------ PANTALLA DE CONTRASE√ëA ------------------ */
#passwordScreen{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index:2000;
    color:white;
}
.pw-box{
    background:#222;
    padding:30px;
    border-radius:12px;
    text-align:center;
    border:1px solid #ff4d6d;
}
.pw-box input{
    padding:8px;
    width:200px;
    margin-top:10px;
    border-radius:6px;
}
.pw-box button{
    margin-top:15px;
    padding:10px 15px;
    background:#ff4d6d;
    color:white;
    border:none;
    cursor:pointer;
    border-radius:6px;
}

/* -------- BOT√ìN DE SLIDESHOW -------- */
#slideshowBtn{
    background:#ff4d6d90;
    border:1px solid var(--accent);
    padding:10px 15px;
    border-radius:8px;
    color:white;
    cursor:pointer;
    margin-bottom:12px;
}
</style>
</head>

<body>

<!-- ------------ PANTALLA DE CONTRASE√ëA ------------ -->
<div id="passwordScreen">
    <div class="pw-box">
        <h2>üíó Ingresa la contrase√±a</h2>
        <input id="passwordInput" type="password" placeholder="Contrase√±a">
        <button onclick="checkPassword()">Entrar</button>
    </div>
</div>

<div class="container">

    <h1>LOVE ALBUM ‚ù§Ô∏èüêßüêß</h1>
    <p class="subtitle">01-09-2025</p>

    <!-- TEXTO ROM√ÅNTICO -->
    <div class="card romantic-box">
        <button class="romantic-btn" onclick="toggleRomantic()">üíå cartita</button>
        <div id="romanticText">
            Desde el primer d√≠a que llegaste a mi vida,  
            todo tuvo m√°s color, m√°s magia y m√°s sentido.  
            Este √°lbum es solo un peque√±o reflejo  
            del enorme amor que siento por ti
            y hacerlo inmortal para que nunca acabe  
            ‚ù§Ô∏èüåπüêß
        </div>
    </div>

    <!-- AUDIO + VISUALIZER -->
    <div class="card">
        <label>M√∫sica que siempre me recuerda a ti:</label>
        <audio id="player" controls autoplay></audio>
        <canvas id="visualizer"></canvas>
    </div>

    <!-- SLIDESHOW BUTTON -->
    <button id="slideshowBtn" onclick="toggleSlideshow()">‚ñ∂ Reproducir fotos</button>

    <!-- GALER√çA -->
    <div class="card">
        <div id="gallery" class="gallery"></div>
    </div>

    <footer>Fotos desde <code>/fotos</code> ‚Ä¢ M√∫sica desde <code>/musica</code></footer>
</div>

<!-- LIGHTBOX -->
<div id="lightbox" onclick="closeLightbox()"></div>

<script>
/* --------------------------------------------------------
      CONFIGURACI√ìN INICIAL
---------------------------------------------------------*/
const photoFolder = "fotos/";
const musicFolder = "musica/";

const mediaFiles = ["1.jpg","3.jpg","4.jpg","5.jpg","2.mp4","v1.mp4",
"6.jpg","7.jpg","8.jpg","9.jpg","10.jpg","11.jpg","12.jpg","13.jpg",
"15.jpg","16.jpg","17.jpg","18.jpg","19.jpg","20.jpg","21.jpg"];

const music = ["Wonderwall.mp3","zoe.mp3","Cuco - Aura.mp3","3 El Morral.mp3",
               "El beso.mp3"];

/* --------------------------------------------------------
      CONTRASE√ëA
---------------------------------------------------------*/
function checkPassword(){
    const pw = document.getElementById("passwordInput").value;
    if(pw === "010925"){   
        document.getElementById("passwordScreen").style.display = "none";
    } else alert("Contrase√±a incorrecta");
}

/* --------------------------------------------------------
      GALER√çA + LIGHTBOX
---------------------------------------------------------*/
const gallery = document.getElementById("gallery");
mediaFiles.forEach(file=>{
    const item=document.createElement("div");
    item.className="gallery-item";

    const ext=file.split(".").pop();

    if(["jpg","jpeg","png"].includes(ext)){
        const img=document.createElement("img");
        img.src=photoFolder+file;
        img.onclick=()=>openLightbox('img',img.src);
        item.appendChild(img);
    } else if(["mp4","webm"].includes(ext)){
        const vid=document.createElement("video");
        vid.src=photoFolder+file;
        vid.controls=true;
        vid.onclick=()=>openLightbox('video',vid.src);
        item.appendChild(vid);
    }
    gallery.appendChild(item);
});

function openLightbox(type, src){
    const lb = document.getElementById("lightbox");
    lb.innerHTML = "";
    lb.style.display = "flex";

    let element;
    if(type === "img"){
        element = document.createElement("img");
    } else {
        element = document.createElement("video");
        element.controls = true;
        element.autoplay = true;
    }

    element.src = src;
    element.classList.add("fade");
    lb.appendChild(element);
}

function closeLightbox(){
    document.getElementById("lightbox").style.display="none";
}

/* --------------------------------------------------------
      SLIDESHOW AUTOM√ÅTICO
---------------------------------------------------------*/
let slideshowInterval = null;
let slideshowIndex = 0;
let slideshowPlaying = false;

function toggleSlideshow(){
    const btn = document.getElementById("slideshowBtn");

    if(!slideshowPlaying){
        btn.textContent = "‚è∏ Pausar fotos";
        startSlideshow();
    } else {
        btn.textContent = "‚ñ∂ Reproducir fotos";
        stopSlideshow();
    }
    slideshowPlaying = !slideshowPlaying;
}

function startSlideshow(){
    slideshowInterval = setInterval(()=>{
        const file = mediaFiles[slideshowIndex];
        const ext = file.split(".").pop().toLowerCase();
        const src = photoFolder + file;

        const lb = document.getElementById("lightbox");
        lb.innerHTML = "";
        lb.style.display = "flex";

        let element;
        if(["jpg","jpeg","png"].includes(ext)){
            element = document.createElement("img");
        } else {
            element = document.createElement("video");
            element.controls = true;
            element.autoplay = true;
        }

        element.src = src;
        element.classList.add("slide-transition");
        lb.appendChild(element);

        slideshowIndex = (slideshowIndex + 1) % mediaFiles.length;
    }, 3000);
}


function stopSlideshow(){
    clearInterval(slideshowInterval);
}

/* --------------------------------------------------------
      TEXTO ROM√ÅNTICO
---------------------------------------------------------*/
function toggleRomantic(){
    const box=document.getElementById("romanticText");
    box.style.display = box.style.display==="block" ? "none" : "block";
}

/* --------------------------------------------------------
      AUDIO PLAYER + AUTO NEXT
---------------------------------------------------------*/
const player = document.getElementById("player");
let index = 0;

function nextSong(){
    index = (index+1) % music.length;
    player.src = musicFolder + music[index];
    player.play();
}
player.src = musicFolder + music[0];
player.addEventListener("ended",nextSong);

/* --------------------------------------------------------
      VISUALIZADOR
---------------------------------------------------------*/
const canvas=document.getElementById("visualizer");
const ctx=canvas.getContext("2d");

function resizeCanvas(){
    canvas.width=canvas.clientWidth;
    canvas.height=canvas.clientHeight;
}
resizeCanvas();
window.onresize=resizeCanvas;

const audioCtx=new AudioContext();
const analyser=audioCtx.createAnalyser();
analyser.fftSize=256;
const source=audioCtx.createMediaElementSource(player);
source.connect(analyser);
analyser.connect(audioCtx.destination);

let data=new Uint8Array(analyser.frequencyBinCount);

function visualize(){
    requestAnimationFrame(visualize);
    analyser.getByteFrequencyData(data);

    ctx.clearRect(0,0,canvas.width,canvas.height);
    let barWidth = canvas.width/data.length;

    for(let i=0;i<data.length;i++){
        let h=data[i];
        ctx.fillStyle="pink";
        ctx.fillRect(i*barWidth,canvas.height-h,barWidth,h);
    }
}
player.onplay = ()=>audioCtx.resume();
visualize();

/* --------------------------------------------------------
      CORAZONES FLOTANTES
---------------------------------------------------------*/
setInterval(()=>{
    const heart=document.createElement("div");
    heart.className="heart";
    heart.textContent="üíñüêß";
    heart.style.left=Math.random()*100+"vw";
    heart.style.bottom="0px";
    heart.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),4000);
},500);
</script>

</body>
</html>
