<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<title>LOVE ALBUM</title>

<style>
:root{
    --bg1:#1a0009;
    --bg2:#000000;
    --accent:#ff4d6d;
    --muted:#ffb3c1;
}

*{box-sizing:border-box;}
body{
    margin:0;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family:'Arial';
    color:#ffe6ea;
    overflow-x:hidden;
}

.container{
    width:100%;
    max-width:1100px;
    margin:auto;
    padding:15px;
}

h1{
    text-align:center;
    margin-bottom:5px;
    font-size:2.1rem;
    color:var(--accent);
}

.subtitle{
    text-align:center;
    font-size:1rem;
    color:var(--muted);
    margin-bottom:20px;
}

.card{
    background:rgba(255,255,255,0.06);
    padding:15px;
    border-radius:16px;
    margin-bottom:20px;
    border:1px solid rgba(255,0,70,0.2);
    backdrop-filter:blur(5px);
}

.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
    gap:10px;
}

.gallery-item{
    transition:.4s;
}

.gallery-item:hover{
    transform:scale(1.05);
}

.gallery img,
.gallery video{
    width:100%;
    height:180px;
    object-fit:cover;
    border-radius:12px;
}

@media (min-width:600px){
    .gallery{
        grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
    }
    .gallery img,.gallery video{
        height:230px;
    }
}

@media (min-width:900px){
    .gallery img,.gallery video{
        height:260px;
    }
}

#lightbox{
    position:fixed;
    inset:0;
    background:#000a;
    display:none;
    justify-content:center;
    align-items:center;
    padding:10px;
    z-index:1000;
}
#lightbox img,#lightbox video{
    width:100%;
    max-width:900px;
    max-height:80vh;
    border-radius:14px;
    box-shadow:0 0 25px var(--accent);
}

#slideshowBtn{
    width:100%;
    padding:12px;
    font-size:1.1rem;
    background:#ff4d6d88;
    border:1px solid var(--accent);
    border-radius:10px;
    cursor:pointer;
    color:white;
}

.romantic-btn{
    background:#ff4d6d55;
    border:1px solid var(--accent);
    color:white;
    padding:10px;
    font-size:1rem;
    border-radius:8px;
    width:100%;
}
#romanticText{
    display:none;
    margin-top:10px;
    padding:15px;
    border-left:3px solid var(--accent);
}
#visualizer{
    width:100%;
    height:55px;
    background:#0003;
    border-radius:8px;
}

#passwordScreen{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index:2000;
    color:white;
}

.pw-box{
    background:#222;
    padding:25px;
    border-radius:12px;
    text-align:center;
    border:1px solid var(--accent);
    width:85%;
    max-width:320px;
}

.pw-box input{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:6px;
}

.pw-box button{
    margin-top:15px;
    width:100%;
    padding:10px;
    background:var(--accent);
    border:none;
    color:white;
    border-radius:6px;
    font-size:1rem;
}

.heart{
    position:fixed;
    color:#ff4d6d;
    animation:float 4s linear infinite;
    pointer-events:none;
    opacity:0.8;
}
@keyframes float{
    0%{transform:translateY(0) scale(.7);opacity:1;}
    100%{transform:translateY(-250px) scale(1.6);opacity:0;}
}
</style>
</head>

<body>

<div id="passwordScreen">
    <div class="pw-box">
        <h2>üíó Ingresa la contrase√±a</h2>
        <input id="passwordInput" type="password" placeholder="Contrase√±a">
        <button onclick="checkPassword()">Entrar</button>
    </div>
</div>

<div class="container">

    <h1>LOVE ALBUM ‚ù§Ô∏èüêß</h1>
    <p class="subtitle">01-09-2025</p>

    <div class="card">
        <button class="romantic-btn" onclick="toggleRomantic()">üíå cartita</button>
        <div id="romanticText">
            Desde el primer d√≠a que llegaste a mi vida,  
            todo tuvo m√°s color y magia.  
            Este √°lbum es un peque√±o reflejo 
            del gran amor que siento por ti. ‚ù§Ô∏èüêßüåπ
        </div>
    </div>

    <div class="card">
        <label>M√∫sica que siempre me recuerda a ti:</label>
        <audio id="player" controls autoplay></audio>
        <canvas id="visualizer"></canvas>
    </div>

    <button id="slideshowBtn" onclick="toggleSlideshow()">‚ñ∂ Reproducir fotos</button>

    <div class="card">
        <div id="gallery" class="gallery"></div>
    </div>

</div>

<div id="lightbox" onclick="closeLightbox()"></div>

<script>
const photoFolder = "fotos/";
const musicFolder = "musica/";

const mediaFiles = [
    "1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg","7.jpg",
    "8.jpg","9.jpg","10.jpg","11.jpg","12.jpg","13.jpg",
    "15.jpg","16.jpg","17.jpg","18.jpg","19.jpg","20.jpg","21.jpg",
    "v1.mp4"
];

const music = [
    "Wonderwall.mp3",
    "zoe.mp3",
    "Cuco - Aura.mp3",
    "El Beso.mp3",
    "3 El Morral.mp3"
];

function checkPassword(){
    const pw = document.getElementById("passwordInput").value;
    if(pw === "010925"){   
        document.getElementById("passwordScreen").style.display = "none";
    } else alert("Contrase√±a incorrecta");
}

const gallery = document.getElementById("gallery");
mediaFiles.forEach(file=>{
    const item=document.createElement("div");
    item.className="gallery-item";
    const ext=file.split(".").pop().toLowerCase();

    if(["jpg","jpeg","png"].includes(ext)){
        const img=document.createElement("img");
        img.src=photoFolder+file;
        img.onclick=()=>openLightbox('img',img.src);
        item.appendChild(img);
    } else {
        const vid=document.createElement("video");
        vid.src=photoFolder+file;
        vid.controls=true;
        vid.onclick=()=>openLightbox('video',vid.src);
        item.appendChild(vid);
    }
    gallery.appendChild(item);
});

function openLightbox(type, src){
    const lb = document.getElementById("lightbox");
    lb.innerHTML = "";
    lb.style.display = "flex";
    let element;
    if(type === "img"){ element = document.createElement("img"); }
    else{
        element = document.createElement("video");
        element.controls = true;
        element.autoplay = true;
    }
    element.src = src;
    lb.appendChild(element);
}

function closeLightbox(){
    document.getElementById("lightbox").style.display="none";
}

let slideshowInterval=null;
let slideshowIndex=0;
let slideshowPlaying=false;

function toggleSlideshow(){
    const btn=document.getElementById("slideshowBtn");
    if(!slideshowPlaying){
        btn.textContent="‚è∏ Pausar fotos";
        startSlideshow();
    }else{
        btn.textContent="‚ñ∂ Reproducir fotos";
        stopSlideshow();
    }
    slideshowPlaying=!slideshowPlaying;
}

function startSlideshow(){
    slideshowInterval=setInterval(()=>{
        const file=mediaFiles[slideshowIndex];
        const ext=file.split(".").pop();
        const src=photoFolder+file;
        const lb=document.getElementById("lightbox");
        lb.innerHTML="";
        lb.style.display="flex";

        let element;
        if(["jpg","jpeg","png"].includes(ext)){
            element=document.createElement("img");
        } else {
            element=document.createElement("video");
            element.controls=true;
            element.autoplay=true;
        }
        element.src=src;
        lb.appendChild(element);

        slideshowIndex=(slideshowIndex+1)%mediaFiles.length;
    },2500);
}

function stopSlideshow(){
    clearInterval(slideshowInterval);
}

function toggleRomantic(){
    const box=document.getElementById("romanticText");
    box.style.display = box.style.display==="block" ? "none" : "block";
}

const player=document.getElementById("player");
let index=0;
player.src = musicFolder + music[0];

function nextSong(){
    index = (index+1) % music.length;
    player.src = musicFolder + music[index];
    player.play();
}
player.addEventListener("ended",nextSong);

const canvas=document.getElementById("visualizer");
const ctx=canvas.getContext("2d");

function resizeCanvas(){
    canvas.width=canvas.clientWidth;
    canvas.height=canvas.clientHeight;
}
resizeCanvas();
window.onresize=resizeCanvas;

const audioCtx=new AudioContext();
const analyser=audioCtx.createAnalyser();
analyser.fftSize=256;
const source=audioCtx.createMediaElementSource(player);
source.connect(analyser);
analyser.connect(audioCtx.destination);

let data=new Uint8Array(analyser.frequencyBinCount);

function visualize(){
    requestAnimationFrame(visualize);
    analyser.getByteFrequencyData(data);

    ctx.clearRect(0,0,canvas.width,canvas.height);
    let barWidth=canvas.width/data.length;

    for(let i=0;i<data.length;i++){
        let h=data[i];
        ctx.fillStyle="pink";
        ctx.fillRect(i*barWidth,canvas.height-h,barWidth,h);
    }
}
player.onplay=()=>audioCtx.resume();
visualize();

setInterval(()=>{
    const heart=document.createElement("div");
    heart.className="heart";
    heart.textContent="üíñüêß";
    heart.style.left=Math.random()*100+"vw";
    heart.style.bottom="0px";
    heart.style.fontSize=(18+Math.random()*18)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),4000);
},600);
</script>

</body>
</html>

